<html>


<!-- ELIE's SHADER Library INIT: glslCanvas library load -->
<script type="text/javascript" src="https://rawgit.com/patriciogonzalezvivo/glslCanvas/master/dist/GlslCanvas.js"></script>


<style>
  #myDIV {
    width: 100%;
    padding: 50px 0;
    text-align: center;
    background-color: lightblue;
    margin-top: 20px;
  }
</style>





<script type="text/javascript">
  function showContent(e) {
    var currentActive = document.querySelector(".active-album");

    if (currentActive) {
      currentActive.classList.remove('active-album');
    }

    var x = e.classList.add('active-album');
  }

  function addTilt() {
    setTimeout(()=>{VanillaTilt.init(document.querySelectorAll(".img-container img"), {
      glare: true,
      perspective: 700
    })},200);
  }

  function test() {
    const albumList = [{
        cover: "https://f4.bcbits.com/img/a0845889841_16.jpg",
        name: "Out of the Blue",
        artists: "Blue Dish"
      },
      {
        cover: "https://i1.sndcdn.com/artworks-3Vh95brqXadydmOt-Q74EsA-t500x500.jpg",
        name: "Tetso Cube Light Ride",
        artists: "Elie Mcafee-Hahn"
      }
    ]
    var output = '<ul>';
    albumList.forEach((album, i) => {
      const releaseNumber = `${'0'.repeat(3-(Math.log10((i ^ (i >> 31)) - (i >> 31)) | 0))}${i.toString}`;
      output += `<li onclick="showContent(this)">
        <div class="release-list-text">
          <p>|</p><p>PCoT 000${i}</p>
        </div>
        <div class="line-draw" />

        <div class="img-container">
          <img src="${album.cover}" width="300px">
          <div class="overlay"></div>
          <div class="album-info-section">
            <h1>${album.name}</h1>
            <h4>${album.artists}</h4>
          </div>
        </div>

      </li>`;
    });

    output += '</ul>';
    document.getElementById("catalog-container").innerHTML = output;
  }
</script>

<head>
  <link rel="stylesheet" href="catalog.css">
</head>

<body onload="test()">
<hr size="1"/>
<hr size="2"/>
<hr size="3"/>
<hr size="4"/>
<hr size="5"/>
  <div class="logo-shader-container">
  <canvas class="glslCanvas logo-shader"  data-fragment="
  // Author @patriciogv - 2015
  // http://patriciogonzalezvivo.com

  #ifdef GL_ES
  precision mediump float;
  #endif

  uniform sampler2D u_tex0;
  uniform vec2 u_tex0Resolution;

  uniform vec2 u_resolution;
  uniform vec2 u_mouse;
  uniform float u_time;

  vec2 normMouse = u_mouse/u_resolution;

  void main(void) {
  // vec2 cPos = -1.0 + 2.0 * gl_FragCoord.xy / u_resolution.xy;

  //responsible for the center drop
  //that first argument scales so that the bottom left corner isn't 0,0 so the effect still exists
  vec2 cPos = .5+.5*(u_mouse/u_resolution) * (gl_FragCoord.xy / u_resolution.xy);

  //mouse track
  float cLength = distance(u_mouse/u_resolution ,gl_FragCoord.xy/u_resolution.xy);

  vec2 uv = gl_FragCoord.xy/u_resolution.xy+(cPos/cLength)*cos(cLength*30.0-u_time*2.0)*0.003;

  //vec3 col = vec3(uv, 1.0);
  vec3 col = texture2D(u_tex0,uv).xyz;

  //colorize
  col -= vec3 (.2,.0,.2);

  gl_FragColor = vec4(col,1.0);
  }

  " data-textures="TandyLogo.png"></canvas>
  </div>
  <div id="catalog-container">
  </div>


  <script type="text/javascript" src="vanilla-tilt.js"></script>
</body>

</html>
