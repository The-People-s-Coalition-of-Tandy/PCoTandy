const albumList = [{
    cover: "./Assets/Albums/midi2022/cover/cover2bluebordershadow.png",
    color: "pink",
    name: "30th Anniversary GM Smoidi Light General Midi Competition",
    artists: "Various",
    description: "Drawing upon a vast array of influences - from Jazz to Blues - Blue Dish’s eclectic sound is seemingly boundless, defying genre at every moment.",
    credits: "",
    youtube: "",
    spotify: "",
    bandcamp: "https://tandy.bandcamp.com/",
    instagram: ""
  },
  {
    cover: "https://f4.bcbits.com/img/a0845889841_16.jpg",
    color: "blue",
    name: "Out of the Blue",
    artists: "Blue Dish",
    description: "Drawing upon a vast array of influences - from Jazz to Blues - Blue Dish’s eclectic sound is seemingly boundless, defying genre at every moment.",
    credits: "<strong>Mixed + Mastered:</strong> Elie Mcafee-Hahn <br> <strong>Performed By:</strong> Elie Mcafee Hahn & Julie Bodian",
    youtube: "https://youtu.be/GOlXO-qs61M",
    spotify: "https://open.spotify.com/album/2aX2eODXtSYV9Sq2uD8J3a?si=l4XZLXdCRuW5wf3LeSHmvQ",
    bandcamp: "https://bluedish.bandcamp.com/",
    instagram: ""
  },
  {
    cover: "https://i1.sndcdn.com/artworks-3Vh95brqXadydmOt-Q74EsA-t500x500.jpg",
    color: "purple",
    name: "Tetso Cube Light Ride",
    artists: "Elie Mcafee-Hahn",
    description: "Elie is cool :)",
    credits: "",
    youtube: "https://www.youtube.com/watch?v=H0u_aZUWL-w&ab_channel=baz%2abailey%2a",
    spotify: "",
    bandcamp: "https://bandcamp.com/elielielielielie",
    instagram: "https://www.instagram.com/ellie_modron_kurfwen/?hl=en"
  },
  {
    cover: "https://i1.sndcdn.com/artworks-OmT5lbIsnIHrJLIw-9vVfJQ-t500x500.jpg",
    color: "green",
    name: "Birfth",
    artists: "Katarina Mazur",
    description: "Kat is fun and cool. This is about this so it's good like that. Listen to it :)",
    credits: "",
    youtube: "",
    spotify: "",
    bandcamp: "https://soundcloud.com/katmazur",
    instagram: ""
  },
  {
    cover: "https://i1.sndcdn.com/artworks-OmT5lbIsnIHrJLIw-9vVfJQ-t500x500.jpg",
    color: "green",
    name: "Birfth",
    artists: "Katarina Mazur",
    description: "Kat is fun and cool. This is about this so it's good like that. Listen to it :)",
    credits: "",
    youtube: "",
    spotify: "",
    bandcamp: "https://soundcloud.com/katmazur",
    instagram: ""
  },
  {
    cover: "https://i1.sndcdn.com/artworks-OmT5lbIsnIHrJLIw-9vVfJQ-t500x500.jpg",
    color: "green",
    name: "Birfth",
    artists: "Katarina Mazur",
    description: "Kat is fun and cool. This is about this so it's good like that. Listen to it :)",
    credits: "",
    youtube: "",
    spotify: "",
    bandcamp: "https://soundcloud.com/katmazur",
    instagram: ""
  },
  {
    cover: "https://i1.sndcdn.com/artworks-OmT5lbIsnIHrJLIw-9vVfJQ-t500x500.jpg",
    color: "green",
    name: "Birfth",
    artists: "Katarina Mazur",
    description: "Kat is fun and cool. This is about this so it's good like that. Listen to it :)",
    credits: "",
    youtube: "",
    spotify: "",
    bandcamp: "https://soundcloud.com/katmazur",
    instagram: ""
  },
  {
    cover: "https://i1.sndcdn.com/artworks-OmT5lbIsnIHrJLIw-9vVfJQ-t500x500.jpg",
    color: "green",
    name: "Birfth",
    artists: "Katarina Mazur",
    description: "Kat is fun and cool. This is about this so it's good like that. Listen to it :)",
    credits: "",
    youtube: "",
    spotify: "",
    bandcamp: "https://soundcloud.com/katmazur",
    instagram: ""
  },
  {
    cover: "https://i1.sndcdn.com/artworks-OmT5lbIsnIHrJLIw-9vVfJQ-t500x500.jpg",
    color: "green",
    name: "Birfth",
    artists: "Katarina Mazur",
    description: "Kat is fun and cool. This is about this so it's good like that. Listen to it :)",
    credits: "",
    youtube: "",
    spotify: "",
    bandcamp: "https://soundcloud.com/katmazur",
    instagram: ""
  },
  {
    cover: "https://i1.sndcdn.com/artworks-OmT5lbIsnIHrJLIw-9vVfJQ-t500x500.jpg",
    color: "green",
    name: "Birfth",
    artists: "Katarina Mazur",
    description: "Kat is fun and cool. This is about this so it's good like that. Listen to it :)",
    credits: "",
    youtube: "",
    spotify: "",
    bandcamp: "https://soundcloud.com/katmazur",
    instagram: ""
  },
  {
    cover: "https://i1.sndcdn.com/artworks-OmT5lbIsnIHrJLIw-9vVfJQ-t500x500.jpg",
    color: "green",
    name: "Birfth",
    artists: "Katarina Mazur",
    description: "Kat is fun and cool. This is about this so it's good like that. Listen to it :)",
    credits: "",
    youtube: "",
    spotify: "",
    bandcamp: "https://soundcloud.com/katmazur",
    instagram: ""
  },
  {
    cover: "https://i1.sndcdn.com/artworks-OmT5lbIsnIHrJLIw-9vVfJQ-t500x500.jpg",
    color: "green",
    name: "Birfth",
    artists: "Katarina Mazur",
    description: "Kat is fun and cool. This is about this so it's good like that. Listen to it :)",
    credits: "",
    youtube: "",
    spotify: "",
    bandcamp: "https://soundcloud.com/katmazur",
    instagram: ""
  },
  {
    cover: "https://i1.sndcdn.com/artworks-OmT5lbIsnIHrJLIw-9vVfJQ-t500x500.jpg",
    color: "green",
    name: "Birfth",
    artists: "Katarina Mazur",
    description: "Kat is fun and cool. This is about this so it's good like that. Listen to it :)",
    credits: "",
    youtube: "",
    spotify: "",
    bandcamp: "https://soundcloud.com/katmazur",
    instagram: ""
  },
  {
    cover: "https://i1.sndcdn.com/artworks-OmT5lbIsnIHrJLIw-9vVfJQ-t500x500.jpg",
    color: "green",
    name: "Birfth",
    artists: "Katarina Mazur",
    description: "Kat is fun and cool. This is about this so it's good like that. Listen to it :)",
    credits: "",
    youtube: "",
    spotify: "",
    bandcamp: "https://soundcloud.com/katmazur",
    instagram: ""
  },
  {
    cover: "https://i1.sndcdn.com/artworks-OmT5lbIsnIHrJLIw-9vVfJQ-t500x500.jpg",
    color: "green",
    name: "Birfth",
    artists: "Katarina Mazur",
    description: "Kat is fun and cool. This is about this so it's good like that. Listen to it :)",
    credits: "",
    youtube: "",
    spotify: "",
    bandcamp: "https://soundcloud.com/katmazur",
    instagram: ""
  },
  {
    cover: "https://i1.sndcdn.com/artworks-OmT5lbIsnIHrJLIw-9vVfJQ-t500x500.jpg",
    color: "green",
    name: "Birfth",
    artists: "Katarina Mazur",
    description: "Kat is fun and cool. This is about this so it's good like that. Listen to it :)",
    credits: "",
    youtube: "",
    spotify: "",
    bandcamp: "https://soundcloud.com/katmazur",
    instagram: ""
  },
  {
    cover: "https://i1.sndcdn.com/artworks-OmT5lbIsnIHrJLIw-9vVfJQ-t500x500.jpg",
    color: "green",
    name: "Birfth",
    artists: "Katarina Mazur",
    description: "Kat is fun and cool. This is about this so it's good like that. Listen to it :)",
    credits: "",
    youtube: "",
    spotify: "",
    bandcamp: "https://soundcloud.com/katmazur",
    instagram: ""
  },
  {
    cover: "https://i1.sndcdn.com/artworks-OmT5lbIsnIHrJLIw-9vVfJQ-t500x500.jpg",
    color: "green",
    name: "Birfth",
    artists: "Katarina Mazur",
    description: "Kat is fun and cool. This is about this so it's good like that. Listen to it :)",
    credits: "",
    youtube: "",
    spotify: "",
    bandcamp: "https://soundcloud.com/katmazur",
    instagram: ""
  },
  {
    cover: "https://i1.sndcdn.com/artworks-OmT5lbIsnIHrJLIw-9vVfJQ-t500x500.jpg",
    color: "green",
    name: "Birfth",
    artists: "Katarina Mazur",
    description: "Kat is fun and cool. This is about this so it's good like that. Listen to it :)",
    credits: "",
    youtube: "",
    spotify: "",
    bandcamp: "https://soundcloud.com/katmazur",
    instagram: ""
  },
  {
    cover: "https://i1.sndcdn.com/artworks-OmT5lbIsnIHrJLIw-9vVfJQ-t500x500.jpg",
    color: "green",
    name: "Birfth",
    artists: "Katarina Mazur",
    description: "Kat is fun and cool. This is about this so it's good like that. Listen to it :)",
    credits: "",
    youtube: "",
    spotify: "",
    bandcamp: "https://soundcloud.com/katmazur",
    instagram: ""
  },
  {
    cover: "https://i1.sndcdn.com/artworks-OmT5lbIsnIHrJLIw-9vVfJQ-t500x500.jpg",
    color: "green",
    name: "Birfth",
    artists: "Katarina Mazur",
    description: "Kat is fun and cool. This is about this so it's good like that. Listen to it :)",
    credits: "",
    youtube: "",
    spotify: "",
    bandcamp: "https://soundcloud.com/katmazur",
    instagram: ""
  }
];

function showContent(e) {
  var currentActive = document.querySelector(".active-album");

  if (currentActive) {
    currentActive.classList.remove('active-album');
  }

  var x = e.classList.add('active-album');
  // var audio = document.getElementById("audio");
  //   audio.play();
}

function spanify(text) {
  const maxLength = 21
  let result = "";
  for (let i = 0; i < Math.min(text.length, maxLength); i++) {
    text[i] === " " ? result += `<span>&nbsp</span>` : result += `<span>${text[i]}</span>`
  }
  if (text.length > maxLength) {
    for (let j = 0; j < 3; j++) {
      result += `<span>.</span>`
    }
  }

  return result;
}

function generateCatalog() {
  var output = '<ul>';
  albumList.forEach((album, i) => {
    const releaseNumber = `${'0'.repeat(3-(Math.log10((i ^ (i >> 31)) - (i >> 31)) | 0))}${i.toString}`;
    output += `
    <li onclick="showContent(this)">
      <div class="release-list-text">
        <div class="catalog-number" tabindex="${i}"><p>PCoT 000${i}</p></div>
        <div class="animate four"><span class="first-span">▣</span>${spanify && spanify(album.name)}<span class="last-span">▣</span></div>
      </div>
      <div class="line-draw" />

      <div class="album-expansion">
        <div class="img-container"><img src="${album.cover}"></div>
        <div class="album-info-section ${album.color}">
          <h1 class="title">${album.name}</h1>
          <h4 class="artist-name">${album.artists}</h4>
          <div class="album-copy-container">
          <p class="album-copy">${album.description}</p>
          <p class="album-credits">${album.credits}</p>
          </div>
          <div class="links">
            <div class="buttons">
              ${album.bandcamp ? "<a target='_blank' class='bc' href='" + album.bandcamp + "'>bandcamp</a>" : ""}
              ${album.instagram ? "<a target='_blank' class='in' href='" + album.instagram+ "'>instagram</a>" : ""}
              ${album.spotify ? "<a target='_blank' class='spotify' href='" + album.spotify + "'>spotify</a>" : ""}
              ${album.youtube ? "<a target='_blank' class='yt' href='" + album.youtube + "'>youtube</a>" : ""}    
            </div>
          </div>
        </div>
      </div>
    </li>`;
  });

  output += '</ul>';
  document.getElementById("catalog-container").innerHTML = output;
  VanillaTilt.init(document.querySelectorAll(".img-container img"), {
    glare: true,
    perspective: 700
  })
}